# デプロイ手順

## 初期設定

### 1. スプレッドシートIDの設定
1. Google Apps Scriptエディタでプロジェクトを開く
2. 「プロジェクトの設定」アイコンをクリック
3. 「スクリプト プロパティ」タブを選択
4. 「プロパティを追加」をクリック
5. 以下のプロパティを設定：
   - プロパティ名: `SPREADSHEET_ID`
   - 値: GoogleスプレッドシートのID（URLの`/d/`と`/edit`の間の文字列）
6. 「保存」をクリック

### 2. 初期プロパティの設定
Google Apps Scriptエディタで以下の関数を一度実行：
```javascript
initializeProperties()
```

これにより、以下の初期値が設定されます：
- `DEBUG_MODE`: false
- `STATUS_CHANGE_NOTIFICATION_ENABLED`: true

### 3. Webアプリとしてデプロイ
1. 「デプロイ」→「新しいデプロイ」をクリック
2. 「種類の選択」で「ウェブアプリ」を選択
3. 以下の設定を行う：
   - 説明: 任意（例：「代替機管理システム v1.0」）
   - 実行ユーザー: 「自分」
   - アクセスできるユーザー: 「組織内の全員」
4. 「デプロイ」をクリック
5. 表示されたWebアプリのURLをコピーして保存

## デバッグモードの有効化

### 方法1: Web UIから設定（推奨）
1. デプロイしたWebアプリにアクセス
2. 「設定」メニューをクリック
3. 「システム設定」タブを選択
4. 「デバッグモードを有効にする」のスイッチをON
5. 確認ダイアログで「確認」をクリック

### 方法2: スクリプトプロパティから直接設定
1. Google Apps Scriptエディタで「プロジェクトの設定」を開く
2. 「スクリプト プロパティ」タブで以下を設定：
   - プロパティ名: `DEBUG_MODE`
   - 値: `true`

## トラブルシューティング

### デバッグモードが有効にならない場合

1. **ブラウザのコンソールを確認**
   - F12キーを押してデベロッパーツールを開く
   - Consoleタブでエラーメッセージを確認

2. **スクリプトプロパティの確認**
   - Google Apps Scriptエディタで「表示」→「ログ」を確認
   - `getSystemSettings`関数の実行結果を確認

3. **権限の確認**
   - スクリプトの実行権限が正しく設定されているか確認
   - 必要に応じて再認証を実行

4. **初期化の実行**
   - Google Apps Scriptエディタで`initializeProperties()`を手動実行
   - エラーがないか確認

### デバッグコンソールの使用

デバッグモードが有効な場合：
- 画面右下にデバッグコンソールが表示されます
- F12キーでコンソールの表示/非表示を切り替えられます
- API呼び出し、エラー、システムイベントがリアルタイムで表示されます