<!-- settings.html - システム設定ページ -->
<div class="settings-container">
  <!-- ポップアップメッセージ -->
  <div id="settingsPopupMessage" class="popup-message"></div>

  <div class="page-header">
    <h1><i class="fas fa-cog"></i> システム設定</h1>
    <p>フォーム作成やマスタデータに関する設定を管理します</p>
  </div>

  <!-- 設定カテゴリタブ -->
  <div class="settings-tabs">
    <button class="tab-button active" onclick="showSettingsTab('common-forms')" id="common-forms-tab">
      <i class="fas fa-link"></i>
      共通フォームURL
    </button>
  </div>



  <!-- 共通フォームURL設定 -->
  <div id="common-forms-settings" class="settings-section active">
    <div class="section-header">
      <h2><i class="fas fa-link"></i> 共通フォームURL設定</h2>
      <p>拠点管理番号を事前入力するための共通フォームURLを設定します</p>
    </div>

    <!-- 管理者向け警告 -->
    <div class="admin-warning">
      <div class="warning-header">
        <i class="fas fa-exclamation-triangle"></i>
        <strong>管理者専用設定</strong>
      </div>
      <div class="warning-content">
        <p><strong>⚠️ 重要な注意事項</strong></p>
        <ul>
          <li>この設定は<strong>システム管理者のみ</strong>が変更してください</li>
          <li>誤った設定は<strong>システム全体</strong>に影響を与える可能性があります</li>
          <li>設定変更前に必ず<strong>管理者の承認</strong>を得てください</li>
          <li>変更後は<strong>動作確認</strong>を必ず実施してください</li>
        </ul>
        <p class="warning-note">
          <i class="fas fa-info-circle"></i>
          不明な点がある場合は、システム管理者にお問い合わせください
        </p>
      </div>
    </div>

    <form id="commonFormsSettingsForm">
      <div class="settings-grid">

        <!-- 端末用共通フォームURL -->
        <div class="setting-item">
          <label for="terminalCommonFormUrl">
            <i class="fas fa-desktop"></i>
            端末用共通フォームURL
            <span class="setting-description">SV・CLカテゴリで使用する共通フォームのURL</span>
          </label>
          <div class="input-group">
            <input type="url" id="terminalCommonFormUrl" name="terminalCommonFormUrl" 
              placeholder="https://docs.google.com/forms/d/...">
            <button type="button" class="btn btn-info btn-sm" onclick="validateFormUrl('terminalCommonFormUrl')">
              <i class="fas fa-check"></i>
              検証
            </button>
          </div>
          <small class="help-text">
            例: https://docs.google.com/forms/d/1FAIpQLSe.../viewform?usp=pp_url&entry.123456789=<br>
            拠点管理番号フィールドがあるGoogle FormsのURLを入力してください
          </small>
        </div>

        <!-- プリンタ・その他用共通フォームURL -->
        <div class="setting-item">
          <label for="printerCommonFormUrl">
            <i class="fas fa-print"></i>
            プリンタ・その他用共通フォームURL
            <span class="setting-description">プリンタ・その他カテゴリで使用する共通フォームのURL</span>
          </label>
          <div class="input-group">
            <input type="url" id="printerCommonFormUrl" name="printerCommonFormUrl" 
              placeholder="https://docs.google.com/forms/d/...">
            <button type="button" class="btn btn-info btn-sm" onclick="validateFormUrl('printerCommonFormUrl')">
              <i class="fas fa-check"></i>
              検証
            </button>
          </div>
          <small class="help-text">
            例: https://docs.google.com/forms/d/1FAIpQLSe.../viewform?usp=pp_url&entry.123456789=<br>
            拠点管理番号フィールドがあるGoogle FormsのURLを入力してください
          </small>
        </div>
        
        <!-- QRコード中間ページURL -->
        <div class="setting-item">
          <label for="qrRedirectUrl">
            <i class="fas fa-qrcode"></i>
            QRコード中間ページURL
            <span class="setting-description">QRコード読み取り時にアクセスする中間ページのURL</span>
          </label>
          <div class="input-group">
            <input type="url" id="qrRedirectUrl" name="qrRedirectUrl" 
              placeholder="https://script.google.com/macros/s/.../exec">
            <button type="button" class="btn btn-info btn-sm" onclick="validateQrUrl('qrRedirectUrl')">
              <i class="fas fa-check"></i>
              検証
            </button>
          </div>
          <small class="help-text">
            例: https://script.google.com/macros/s/AKfycbw.../exec<br>
            　　https://script.google.com/a/macros/domain.com/s/AKfycbw.../exec<br>
            GAS Web AppのURLを入力してください（個人向け・企業向け両方対応）
          </small>
        </div>

      </div>

      <!-- 保存ボタン -->
      <div class="form-actions">
        <button type="button" class="btn btn-secondary" onclick="resetCommonFormsSettings()">
          <i class="fas fa-undo"></i>
          リセット
        </button>
        <button type="button" class="btn btn-success" onclick="saveCommonFormsSettings()">
          <i class="fas fa-save"></i>
          設定を保存
        </button>
      </div>
    </form>
  </div>


</div>